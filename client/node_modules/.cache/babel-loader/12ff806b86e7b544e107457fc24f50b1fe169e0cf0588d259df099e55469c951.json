{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeElement = removeElement;\nexports.replaceElement = replaceElement;\nexports.appendChild = appendChild;\nexports.append = append;\nexports.prependChild = prependChild;\nexports.prepend = prepend;\n/**\n * Remove an element from the dom\n *\n * @category Manipulation\n * @param elem The element to be removed\n */\nfunction removeElement(elem) {\n  if (elem.prev) elem.prev.next = elem.next;\n  if (elem.next) elem.next.prev = elem.prev;\n  if (elem.parent) {\n    var childs = elem.parent.children;\n    var childsIndex = childs.lastIndexOf(elem);\n    if (childsIndex >= 0) {\n      childs.splice(childsIndex, 1);\n    }\n  }\n  elem.next = null;\n  elem.prev = null;\n  elem.parent = null;\n}\n/**\n * Replace an element in the dom\n *\n * @category Manipulation\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nfunction replaceElement(elem, replacement) {\n  var prev = replacement.prev = elem.prev;\n  if (prev) {\n    prev.next = replacement;\n  }\n  var next = replacement.next = elem.next;\n  if (next) {\n    next.prev = replacement;\n  }\n  var parent = replacement.parent = elem.parent;\n  if (parent) {\n    var childs = parent.children;\n    childs[childs.lastIndexOf(elem)] = replacement;\n    elem.parent = null;\n  }\n}\n/**\n * Append a child to an element.\n *\n * @category Manipulation\n * @param parent The element to append to.\n * @param child The element to be added as a child.\n */\nfunction appendChild(parent, child) {\n  removeElement(child);\n  child.next = null;\n  child.parent = parent;\n  if (parent.children.push(child) > 1) {\n    var sibling = parent.children[parent.children.length - 2];\n    sibling.next = child;\n    child.prev = sibling;\n  } else {\n    child.prev = null;\n  }\n}\n/**\n * Append an element after another.\n *\n * @category Manipulation\n * @param elem The element to append after.\n * @param next The element be added.\n */\nfunction append(elem, next) {\n  removeElement(next);\n  var parent = elem.parent;\n  var currNext = elem.next;\n  next.next = currNext;\n  next.prev = elem;\n  elem.next = next;\n  next.parent = parent;\n  if (currNext) {\n    currNext.prev = next;\n    if (parent) {\n      var childs = parent.children;\n      childs.splice(childs.lastIndexOf(currNext), 0, next);\n    }\n  } else if (parent) {\n    parent.children.push(next);\n  }\n}\n/**\n * Prepend a child to an element.\n *\n * @category Manipulation\n * @param parent The element to prepend before.\n * @param child The element to be added as a child.\n */\nfunction prependChild(parent, child) {\n  removeElement(child);\n  child.parent = parent;\n  child.prev = null;\n  if (parent.children.unshift(child) !== 1) {\n    var sibling = parent.children[1];\n    sibling.prev = child;\n    child.next = sibling;\n  } else {\n    child.next = null;\n  }\n}\n/**\n * Prepend an element before another.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\nfunction prepend(elem, prev) {\n  removeElement(prev);\n  var parent = elem.parent;\n  if (parent) {\n    var childs = parent.children;\n    childs.splice(childs.indexOf(elem), 0, prev);\n  }\n  if (elem.prev) {\n    elem.prev.next = prev;\n  }\n  prev.parent = parent;\n  prev.prev = elem.prev;\n  prev.next = elem;\n  elem.prev = prev;\n}","map":{"version":3,"names":["exports","removeElement","replaceElement","appendChild","append","prependChild","prepend","elem","prev","next","parent","childs","children","childsIndex","lastIndexOf","splice","replacement","child","push","sibling","length","currNext","unshift","indexOf"],"sources":["https://raw.githubusercontent.com/fb55/domutils/0ab8bcf1ecfc70dfc93291a4cb2496578ac25e9c/src/manipulation.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}