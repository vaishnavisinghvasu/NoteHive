{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { useNavigate, Link } from \"react-router-dom\";\n// import \"../css/Register.css\";\n\n// const Register = ({ setUsername }) => {\n//   const navigate = useNavigate();\n//   const [formData, setFormData] = useState({ username: \"\", email: \"\", password: \"\" });\n//   const [message, setMessage] = useState(\"\");\n//   const [isLoading, setIsLoading] = useState(false);\n\n//   const handleChange = (e) => {\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setIsLoading(true);\n\n//     try {\n//       const response = await fetch(\"http://localhost:5000/api/auth/register\", {\n//         method: \"POST\",\n//         headers: { \"Content-Type\": \"application/json\" },\n//         body: JSON.stringify(formData),\n//       });\n\n//       const data = await response.json();\n\n//       if (response.ok) {\n//         console.log(\"Registration Response:\", data); // ✅ Debugging log\n\n//         localStorage.setItem(\"username\", data.username); // ✅ Store username\n//         setUsername(data.username); // ✅ Update state\n\n//         setMessage(\"Registration successful! Redirecting...\");\n\n//         setTimeout(() => {\n//           navigate(\"/\");\n//           window.location.reload(); // Refresh UI\n//         }, 1500);\n//       } else {\n//         setMessage(data.message || \"Registration failed. Try again.\");\n//       }\n//     } catch (error) {\n//       setMessage(\"Server error. Please try again later.\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n\n//   const handleClose = () => {\n//     // Close the form or navigate away (e.g., go to the login page)\n//     navigate(\"/\"); // Example: Navigate to the home page or login\n//   };\n\n//   return (\n//     <div className=\"register-form-container\">\n//       <button className=\"close-btn\" onClick={handleClose}>X</button> {/* Close button */}\n//       <h2>Register</h2>\n//       <form onSubmit={handleSubmit} className=\"register-form\">\n//         <div className=\"input-group\">\n//           <input\n//             type=\"text\"\n//             name=\"username\"\n//             placeholder=\"Username\"\n//             value={formData.username}\n//             onChange={handleChange}\n//             required\n//           />\n//         </div>\n//         <div className=\"input-group\">\n//           <input\n//             type=\"email\"\n//             name=\"email\"\n//             placeholder=\"Email\"\n//             value={formData.email}\n//             onChange={handleChange}\n//             required\n//           />\n//         </div>\n//         <div className=\"input-group\">\n//           <input\n//             type=\"password\"\n//             name=\"password\"\n//             placeholder=\"Password\"\n//             value={formData.password}\n//             onChange={handleChange}\n//             required\n//           />\n//         </div>\n//         <button type=\"submit\" className=\"submit-btn\" disabled={isLoading}>\n//           {isLoading ? \"Registering...\" : \"Register\"}\n//         </button>\n//       </form>\n//       {message && <p className={message.includes(\"success\") ? \"success\" : \"error\"}>{message}</p>}\n//       <p>Already have an account? <Link to=\"/login\">Login</Link></p>\n//     </div>\n//   );\n// };\n\n// export default Register;","map":{"version":3,"names":[],"sources":["C:/Users/vaish/OneDrive/Desktop/Notes_world/educational-website/client/src/pages/Register.js"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import { useNavigate, Link } from \"react-router-dom\";\r\n// import \"../css/Register.css\";\r\n\r\n// const Register = ({ setUsername }) => {\r\n//   const navigate = useNavigate();\r\n//   const [formData, setFormData] = useState({ username: \"\", email: \"\", password: \"\" });\r\n//   const [message, setMessage] = useState(\"\");\r\n//   const [isLoading, setIsLoading] = useState(false);\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setIsLoading(true);\r\n\r\n//     try {\r\n//       const response = await fetch(\"http://localhost:5000/api/auth/register\", {\r\n//         method: \"POST\",\r\n//         headers: { \"Content-Type\": \"application/json\" },\r\n//         body: JSON.stringify(formData),\r\n//       });\r\n\r\n//       const data = await response.json();\r\n\r\n//       if (response.ok) {\r\n//         console.log(\"Registration Response:\", data); // ✅ Debugging log\r\n\r\n//         localStorage.setItem(\"username\", data.username); // ✅ Store username\r\n//         setUsername(data.username); // ✅ Update state\r\n\r\n//         setMessage(\"Registration successful! Redirecting...\");\r\n\r\n//         setTimeout(() => {\r\n//           navigate(\"/\");\r\n//           window.location.reload(); // Refresh UI\r\n//         }, 1500);\r\n//       } else {\r\n//         setMessage(data.message || \"Registration failed. Try again.\");\r\n//       }\r\n//     } catch (error) {\r\n//       setMessage(\"Server error. Please try again later.\");\r\n//     } finally {\r\n//       setIsLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const handleClose = () => {\r\n//     // Close the form or navigate away (e.g., go to the login page)\r\n//     navigate(\"/\"); // Example: Navigate to the home page or login\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"register-form-container\">\r\n//       <button className=\"close-btn\" onClick={handleClose}>X</button> {/* Close button */}\r\n//       <h2>Register</h2>\r\n//       <form onSubmit={handleSubmit} className=\"register-form\">\r\n//         <div className=\"input-group\">\r\n//           <input\r\n//             type=\"text\"\r\n//             name=\"username\"\r\n//             placeholder=\"Username\"\r\n//             value={formData.username}\r\n//             onChange={handleChange}\r\n//             required\r\n//           />\r\n//         </div>\r\n//         <div className=\"input-group\">\r\n//           <input\r\n//             type=\"email\"\r\n//             name=\"email\"\r\n//             placeholder=\"Email\"\r\n//             value={formData.email}\r\n//             onChange={handleChange}\r\n//             required\r\n//           />\r\n//         </div>\r\n//         <div className=\"input-group\">\r\n//           <input\r\n//             type=\"password\"\r\n//             name=\"password\"\r\n//             placeholder=\"Password\"\r\n//             value={formData.password}\r\n//             onChange={handleChange}\r\n//             required\r\n//           />\r\n//         </div>\r\n//         <button type=\"submit\" className=\"submit-btn\" disabled={isLoading}>\r\n//           {isLoading ? \"Registering...\" : \"Register\"}\r\n//         </button>\r\n//       </form>\r\n//       {message && <p className={message.includes(\"success\") ? \"success\" : \"error\"}>{message}</p>}\r\n//       <p>Already have an account? <Link to=\"/login\">Login</Link></p>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Register;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}